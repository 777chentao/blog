(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{580:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"_1-项目开发流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-项目开发流程"}},[t._v("#")]),t._v(" 1. 项目开发流程")]),t._v(" "),a("p",[t._v("项目调研=> 需求分析（功能、UI）=> 需求评审=> 开发阶段（接口文档、前后端技术、测试）=> 测试（测试、改bug）=> 上线 => 迭代与总结")]),t._v(" "),a("h2",{attrs:{id:"_2-项目介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-项目介绍"}},[t._v("#")]),t._v(" 2. 项目介绍")]),t._v(" "),a("p",[t._v("项目背景、职责、技术栈、重难点（解决方法）=> 不能说解决的bug，而是在业务层面，比如渲染效率问题、性能优化等，做了什么，达到什么效果")]),t._v(" "),a("h2",{attrs:{id:"_3-面试技能点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-面试技能点"}},[t._v("#")]),t._v(" 3. 面试技能点")]),t._v(" "),a("p",[t._v("熟悉h5 css3新特性，熟悉移动端 pc端各种布局")]),t._v(" "),a("p",[t._v("具备扎实js基础，熟悉闭包、继承、作用域、作用域链等知识并运用")]),t._v(" "),a("p",[t._v("熟悉es6语法，并运用于开发")]),t._v(" "),a("p",[t._v("熟悉vue全家桶进行单页面应用开发")]),t._v(" "),a("p",[t._v("熟悉组件化开发，组件化开发思想")]),t._v(" "),a("p",[t._v("熟悉react技术栈（create-react-app、dva、redux、ant design、zentUI）")]),t._v(" "),a("p",[t._v("熟悉微信小程序开发、微信api、和复杂业务场景下页面性能和通信开发")]),t._v(" "),a("p",[t._v("熟悉nodejs及node组件、熟悉mysql、有nodejs后端开发经验")]),t._v(" "),a("p",[t._v("熟悉git命令及项目分支管理流程")]),t._v(" "),a("p",[t._v("熟悉单元测试工具mockjs、webpack打包工具")]),t._v(" "),a("h2",{attrs:{id:"_5-项目部署上线流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-项目部署上线流程"}},[t._v("#")]),t._v(" 5. 项目部署上线流程")]),t._v(" "),a("p",[t._v("必备条件：在公网的服务器（轻量服务器、云服务器）、在服务器上的web服务器（nginx、apache）、网站域名")]),t._v(" "),a("h2",{attrs:{id:"_6-浏览器输入网站后到显示所有过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-浏览器输入网站后到显示所有过程"}},[t._v("#")]),t._v(" 6. 浏览器输入网站后到显示所有过程")]),t._v(" "),a("p",[t._v("客户端获取url =>  DNS解析域名 => TCP连接 => 发送http请求 => 服务器处理请求 => 返回报文 => 浏览器解析渲染页面 => TCP断开连接")]),t._v(" "),a("h2",{attrs:{id:"_7-项目环境配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-项目环境配置"}},[t._v("#")]),t._v(" 7. 项目环境配置")]),t._v(" "),a("p",[t._v("开发环境（热更新、代码规范检查、sourceMap、接口代理）")]),t._v(" "),a("p",[t._v("测试环境")]),t._v(" "),a("p",[t._v("生成环境（压缩混淆代码、关闭错误提示和测试工具、提取公共模块代码）")]),t._v(" "),a("p",[t._v("配置文件：webpack.dev.conf.js(开发) webpack.prod.conf.js(生产) webpack.base.conf.js(通用，使用webpack-merge合并配置)")]),t._v(" "),a("h2",{attrs:{id:"_8-git版本管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-git版本管理"}},[t._v("#")]),t._v(" 8. git版本管理")]),t._v(" "),a("h3",{attrs:{id:"_8-1-git命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-git命令"}},[t._v("#")]),t._v(" 8.1 git命令")]),t._v(" "),a("p",[a("strong",[t._v("上传：工作区 => 缓存区 => 本地仓库 => 远程仓库")])]),t._v(" "),a("p",[t._v("工作区 => 缓存区：git add .")]),t._v(" "),a("p",[t._v("缓存区 => 本地仓库: git commit -m [message]")]),t._v(" "),a("p",[t._v("本地仓库 => 远程仓库: git push <本地分支名>|<远程分支名>")]),t._v(" "),a("p",[a("strong",[t._v("拉取：远程仓库 => 本地仓库 => 缓存区 => 工作区")])]),t._v(" "),a("p",[t._v("远程仓库 => 本地仓库: git fetch/clone <仓库地址>")]),t._v(" "),a("p",[t._v("本地仓库 => 工作区: git checkout <本地分支名> /切换本地分支")]),t._v(" "),a("p",[t._v("远程仓库 => 工作区: git pull <本地分支名>")]),t._v(" "),a("p",[a("strong",[t._v("其他：")])]),t._v(" "),a("p",[t._v("查看本地分支: git branch")]),t._v(" "),a("p",[t._v("查看远程分支: git branch -r")]),t._v(" "),a("p",[t._v("添加远程版本库: git remote add [仓库名] [url]")]),t._v(" "),a("p",[t._v("从远程获取/更新代码: git fetch")]),t._v(" "),a("h3",{attrs:{id:"_8-2-管理流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-管理流程"}},[t._v("#")]),t._v(" 8.2 管理流程")]),t._v(" "),a("ol",[a("li",[t._v("建立远程仓库")]),t._v(" "),a("li",[t._v("代码文件夹cmd中git init初始化")]),t._v(" "),a("li",[t._v("文件夹中代码提交到缓存区git add .")]),t._v(" "),a("li",[t._v("提交到本地仓库git commit -m ‘项目初始化’")]),t._v(" "),a("li",[t._v("关联远程仓库git remote add origin ‘http.......远程仓库url’")]),t._v(" "),a("li",[t._v("推送远程git push -u origin “远程分支名”")])]),t._v(" "),a("h3",{attrs:{id:"_8-3-项目中的使用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-3-项目中的使用场景"}},[t._v("#")]),t._v(" 8.3 项目中的使用场景")]),t._v(" "),a("p",[a("strong",[t._v("需求开发前的分支拉取流程")])]),t._v(" "),a("ol",[a("li",[t._v("从远程分支拉取代码：git pull")]),t._v(" "),a("li",[t._v("创建本地分支: git checkout -b hyw(分支名)")]),t._v(" "),a("li",[t._v("代码提交到缓存区: git add .")]),t._v(" "),a("li",[t._v("提交到本地仓库: git commit -m ‘hyw代码’")]),t._v(" "),a("li",[t._v("推送到远程,创建hyw远程分支: git remote add origin(远程仓库名)  hyw(分支名)")])]),t._v(" "),a("p",[a("strong",[t._v("需求开发后的分支合并流程")])]),t._v(" "),a("ol",[a("li",[t._v("把本地hyw分支合并到本地master中：git merge hyw（此时分支在master上进行合并的）")]),t._v(" "),a("li",[t._v("将本地master提交远程: git push origin master")])]),t._v(" "),a("p",[a("strong",[t._v("分支冲突解决")]),t._v("（可以组件化开发，一个人开发一个组件）")]),t._v(" "),a("p",[t._v("freeway开发一段代码提交远程后，hyw又开发了一段代码提交远程：")]),t._v(" "),a("ol",[a("li",[t._v("git add .")]),t._v(" "),a("li",[t._v("git commit -m ‘hyw又写了代码’")]),t._v(" "),a("li",[t._v("git push origin hyw (远程hyw分支已更新)")]),t._v(" "),a("li",[t._v("git checkout master (切换到本地master分支)")]),t._v(" "),a("li",[t._v("git merge hyw (合并本地hyw分支到本地master分支，"),a("strong",[t._v("此时有冲突")]),t._v("，因为之前freeway提交过一次到本地master分支)")]),t._v(" "),a("li",[t._v("怎么解决：和freeway沟通问是否需要，若都要选择accept both changes")]),t._v(" "),a("li",[t._v("在本地master上推送到远程master: git push origin master")])]),t._v(" "),a("p",[a("strong",[t._v("出现线上问题时hotfix分支操作流程")])]),t._v(" "),a("ol",[a("li",[t._v("拉去最新代码")]),t._v(" "),a("li",[t._v("修改代码后放入本地预上线分支")]),t._v(" "),a("li",[t._v("推送至远程预上线分支")])]),t._v(" "),a("h2",{attrs:{id:"_9-前后端跨域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-前后端跨域"}},[t._v("#")]),t._v(" 9. 前后端跨域")]),t._v(" "),a("h3",{attrs:{id:"_9-1-同源策略"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-1-同源策略"}},[t._v("#")]),t._v(" 9.1 同源策略")]),t._v(" "),a("p",[a("strong",[t._v("浏览器")]),t._v("最核心也最基本的安全功能，如果缺少了同源策略，浏览器很容易受到"),a("code",[t._v("XSS")]),t._v("、"),a("code",[t._v("CSFR")]),t._v("等攻击。")]),t._v(" "),a("p",[t._v("同源 => 指的是 “"),a("strong",[t._v("协议+域名+端口")]),t._v("” 三者的相同 只要有一个不同就会导致跨域问题.")]),t._v(" "),a("h3",{attrs:{id:"_9-2-解决方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-解决方案"}},[t._v("#")]),t._v(" 9.2 解决方案")]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("前端方案（代理服务器）,适用于开发阶段")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vue.config.js ")]),t._v("\ndevServer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        port"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9086")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        open"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        overlay"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            warnings"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            errors"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        proxy"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"api"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                target"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://11.111.111.11:8000/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" 此处写明自己访问接口的url\n                changeOrigin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                pathRewrite"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^/api"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" \n                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//这里理解成用'/api'代替target里面的地址,比如我要调用'http://40.00.100.100:3002/user/add'，直接写'/api/user/add'即可")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// request.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" instance "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" axios"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    baseURL"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/api"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    withCredentials"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// send cookies when cross-domain requests")]),t._v("\n    timeout"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[a("p",[a("strong",[t._v("后端方案（CORS）")])]),t._v(" "),a("p",[t._v("实现CORS的关键是服务器，只要服务器实现了CORS接口,就可以跨域通信（在 HTTP 响应头上通过 "),a("code",[t._v("Access-Control-Allow-(Origin/Headers/Methods/Credentials/)")]),t._v(" 等响应头字段设置允许访问该资源的请求源，请求头，请求方法，是否允许携带 cookies 等）")]),t._v(" "),a("p",[t._v("CROS 请求默认不包含 cookie 信息 如果我们想要包含就必须在请求中将 "),a("strong",[a("code",[t._v("withCredentials")])]),t._v(" 属性 配置为 "),a("code",[t._v("true")])]),t._v(" "),a("ul",[a("li",[t._v("提到"),a("strong",[t._v("简单请求")]),t._v("和"),a("strong",[t._v("非简单请求")]),t._v("，见 "),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN (opens new window)"),a("OutboundLink")],1),t._v("，只有非简单请求才会触发预检过程")]),t._v(" "),a("li",[t._v("浏览器首先发出一个 OPTIONS 请求，包含非简单请求中存在的请求信息，如请求方法，请求头，源等等")]),t._v(" "),a("li",[t._v("服务器端返回它所允许的上述内容，并且如果预检请求能够通过就返回 200 响应")]),t._v(" "),a("li",[t._v("浏览器接收到响应后，再判断是否真正发出非简单请求")])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("jsonp")])]),t._v(" "),a("p",[t._v("改变请求方式 "),a("code",[t._v("dataType: 'jsonp'")])]),t._v(" "),a("ul",[a("li",[t._v("只允许 GET 请求，因此 URL 长度受限，不安全")]),t._v(" "),a("li",[t._v("需要服务器端进行配合")])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("nginx添加请求头")])]),t._v(" "),a("ul",[a("li",[t._v("nginx 是通过为每一个 HTTP 响应添加上满足 CORS 要求的请求头实现的跨域，本质上请求还是通过浏览器发出的")]),t._v(" "),a("li",[t._v("webpack 是通过内部发送请求的方式绕过浏览器获取到结果之后再返回给浏览器，本质上请求不是通过浏览器发出的")])])])]),t._v(" "),a("h2",{attrs:{id:"_10-登录验证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-登录验证"}},[t._v("#")]),t._v(" 10. 登录验证")]),t._v(" "),a("h3",{attrs:{id:"_10-1-传统session身份认证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-1-传统session身份认证"}},[t._v("#")]),t._v(" 10.1 传统session身份认证")]),t._v(" "),a("ol",[a("li",[t._v("浏览器向服务器发送登录请求")]),t._v(" "),a("li",[t._v("服务器端验证通过，会保存含用户信息的session，生成sessionid")]),t._v(" "),a("li",[t._v("服务器set-cookie设置cookie:sessionid = xx，并将sessionid返回给浏览器")]),t._v(" "),a("li",[t._v("浏览器再次发送请求，会在请求头部的cookie中放入sessionid，并同请求数据发送给服务端")]),t._v(" "),a("li",[t._v("服务器验证session，并根据sessionid查对应用户信息返回结果")])]),t._v(" "),a("p",[a("strong",[t._v("缺点")]),t._v("：当服务端为集群时，用户登录其中一台服务器，会将session保存在该服务器的内存中， 但是当用户访问其他服务器时。会无法访问。依赖cookie，存在CSRF安全问题。")]),t._v(" "),a("p",[a("strong",[t._v("解决方法")]),t._v("：采用缓存服务器（redis）保证共享或第三方缓存来保存session")]),t._v(" "),a("h3",{attrs:{id:"_10-2-基于token身份认证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-2-基于token身份认证"}},[t._v("#")]),t._v(" 10.2 基于token身份认证")]),t._v(" "),a("p",[t._v("采用缓存服务器（redis）")]),t._v(" "),a("ol",[a("li",[t._v("浏览器发送登录请求")]),t._v(" "),a("li",[t._v("服务器验证通过，生成token，以token为key，将用户信息映射关系存入redis，同时将token返回到浏览器")]),t._v(" "),a("li",[t._v("将token存入cookie中，再发送带有token的cookie的请求")]),t._v(" "),a("li",[t._v("服务器拿到token，向redis中获取用户信息，返回结果")])]),t._v(" "),a("h3",{attrs:{id:"_10-3-jwt验证-json-web-token"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-3-jwt验证-json-web-token"}},[t._v("#")]),t._v(" 10.3 JWT验证（json web token）")]),t._v(" "),a("ol",[a("li",[t._v("浏览器发送登录请求")]),t._v(" "),a("li",[t._v("服务器验证通过，生成带用户信息的加密token（jwt），并将jwt返回到浏览器")]),t._v(" "),a("li",[t._v("浏览器将jwt存入authorization header中，再发送带有jwt的请求头的请求")]),t._v(" "),a("li",[t._v("服务器拿到jwt，并从jwt中获取用户信息，返回结果")])]),t._v(" "),a("p",[a("strong",[t._v("和11.2不同的是把用户信息存入了token中")])]),t._v(" "),a("h3",{attrs:{id:"_10-4-token放在哪"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-4-token放在哪"}},[t._v("#")]),t._v(" 10.4 token放在哪？")]),t._v(" "),a("ol",[a("li",[a("p",[a("strong",[t._v("webstroage")])]),t._v(" "),a("p",[t._v("放在webstorage中，请求时将其放到请求头中。由于webstroage可通过js访问，容易遭受XSS跨站脚本攻击，从而获取到用户信息")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("cookie")])]),t._v(" "),a("p",[t._v("放在cookie中，请求时自动带上，通过设置httponly可防止js获取cookie，设置secure可只允许https请求时才使用。但是cookie自身的安全性，可能遭受CFRS跨站请求伪造，从而盗用身份信息，恶意操作。")])])]),t._v(" "),a("h2",{attrs:{id:"_11-xss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-xss"}},[t._v("#")]),t._v(" 11. XSS")]),t._v(" "),a("h3",{attrs:{id:"_11-1-xss攻击"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-1-xss攻击"}},[t._v("#")]),t._v(" 11.1 XSS攻击")]),t._v(" "),a("p",[t._v("XSS攻击即页面被注入了恶意代码。通常页面包含的用户输入内容都在固定的容器或属性内，以文本形式展示；攻击者利用输入片段，拼接特殊格式的字符串，形成代码片段。攻击者往往在页面内注入脚本，使之在用户浏览器上运行，从而引发潜在风险。")]),t._v(" "),a("p",[t._v("页面渲染、连接跳转都有可能出现xss攻击")]),t._v(" "),a("p",[t._v("解决方案：采用"),a("strong",[t._v("html转义")]),t._v("、"),a("strong",[t._v("设置白名单")])]),t._v(" "),a("p",[t._v("在处理输入时，以下内容不可信：")]),t._v(" "),a("ol",[a("li",[t._v("来自用户的UGC信息（用户生成的内容）")]),t._v(" "),a("li",[t._v("第三方链接")]),t._v(" "),a("li",[t._v("url参数")]),t._v(" "),a("li",[t._v("post参数")]),t._v(" "),a("li",[t._v("Referer")]),t._v(" "),a("li",[t._v("Cookie")])]),t._v(" "),a("h3",{attrs:{id:"_11-2-xss分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-2-xss分类"}},[t._v("#")]),t._v(" 11.2 XSS分类")]),t._v(" "),a("p",[t._v("​                       存储区 （恶意代码存放位置）                   插入点（由谁取得恶意代码，渲染到页面）")]),t._v(" "),a("p",[t._v("存储型               后端数据库                                                     HTML")]),t._v(" "),a("p",[t._v("反射型               URL                                                                 HTML")]),t._v(" "),a("p",[t._v("dom型              后端数据库/前端存储/url                               前端js")]),t._v(" "),a("h3",{attrs:{id:"_11-3-xss预防"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-3-xss预防"}},[t._v("#")]),t._v(" 11.3 XSS预防")]),t._v(" "),a("ol",[a("li",[t._v("存储型、反射型是后端责任，dom型前端责任")]),t._v(" "),a("li",[t._v("转义应在html输出时进行，而非提交用户输入")]),t._v(" "),a("li",[t._v("不同上下文有不同转义规则，业务人员需选取合适的转义库")])]),t._v(" "),a("h2",{attrs:{id:"_12-性能优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-性能优化"}},[t._v("#")]),t._v(" 12. 性能优化")]),t._v(" "),a("p",[a("strong",[t._v("性能分析")])]),t._v(" "),a("ul",[a("li",[t._v("页面加载性能（加载时间、用户体验）")]),t._v(" "),a("li",[t._v("动画与操作性能（是否流程无卡顿）")]),t._v(" "),a("li",[t._v("内存占用（内存占用过大，浏览器崩掉）")]),t._v(" "),a("li",[t._v("电量消耗（游戏方面）")])]),t._v(" "),a("p",[a("strong",[t._v("优化方案")])]),t._v(" "),a("p",[t._v("缓存：客户端控制的强缓存策略。")]),t._v(" "),a("p",[t._v("降低请求成本：客户端控制，隔一段时间主动请求dns获取域名。服务器升级到http2。采用cdn管理大型文件、图片。")]),t._v(" "),a("p",[t._v("减少请求：js、css打包到html中。js控制异步加载、懒加载。小型图片使用data-url。")]),t._v(" "),a("p",[t._v("减少传输体积：尽量使用svg等代替图片。根据机型、网络控制图片清晰度。避免大型背景图。")]),t._v(" "),a("p",[a("strong",[t._v("懒加载(照片出现在视图内才请求)")])]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./img2/time.gif"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./img2/time.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("alt")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("img")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./img2/time.gif"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./img2/time2.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("alt")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("img")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./img2/time.gif"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./img2/time3.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("alt")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("img")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./img2/time.gif"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./img2/time4.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("alt")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("img")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./img2/time.gif"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./img2/time5.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("alt")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("img")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./img2/time.gif"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./img2/time6.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("alt")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("img")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" num "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementByTagName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"img"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" img "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementByTagName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"img"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lazyLoad")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" seeHeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 显示内容/可见区域的高度（元素内容+内边距）")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" scrollTop "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//有滚动条的情况下，为元素可视区域距离元素顶部的像素，也就是已经滚动了多少距离")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetTop "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" seeHeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" scrollTop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 照片距离视口顶部的距离小于可见区域高度+向下滚动的距离=>加载")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"src"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./img2/time.gif"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data-src"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h2",{attrs:{id:"_13-dom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_13-dom"}},[t._v("#")]),t._v(" 13. DOM")]),t._v(" "),a("p",[t._v("dom：文档对象模型。在网页上，组织页面（或文档）的"),a("strong",[t._v("节点")]),t._v("对象被组织在一个树形结构中，用来表示文档中对象的标准模型就称为 DOM。")]),t._v(" "),a("p",[a("strong",[t._v("节点与元素")]),t._v("：节点分为元素节点、文本节点(注释)、文档节点等，元素节点即由标签表示，如"),a("code",[t._v("<html>")]),t._v("，"),a("code",[t._v("<head>")]),t._v("，"),a("code",[t._v("<title>")]),t._v("，"),a("code",[t._v("<body>")]),t._v("，"),a("code",[t._v("<h2>")]),t._v("，"),a("code",[t._v("<p>")])]),t._v(" "),a("p",[a("strong",[t._v("相关api：")])]),t._v(" "),a("p",[t._v("节点创造型：createElement创造元素、createTextNode创建文本节点、cloneNode克隆节点、createDocumentFragment")]),t._v(" "),a("p",[t._v("节点修改型：appendChild、insertBefore、removeChild、replaceChild")]),t._v(" "),a("p",[t._v("节点关系型：parentNode、parentElement、children、childNodes、firstChild、lastChild")]),t._v(" "),a("p",[t._v("元素属性型：setAttribute、getAttribute、hasAttribute")]),t._v(" "),a("p",[t._v("样式操作型：element.style.color = ...等等")]),t._v(" "),a("h2",{attrs:{id:"_14-ajax-异步请求技术"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_14-ajax-异步请求技术"}},[t._v("#")]),t._v(" 14. Ajax（异步请求技术）")]),t._v(" "),a("p",[a("strong",[t._v("Ajax")]),t._v("：是一种由xml+javascript组合起来的一种"),a("strong",[t._v("异步请求技术")]),t._v(".可实现动态刷新。")]),t._v(" "),a("p",[a("strong",[t._v("原理")]),t._v("：简单来说通过"),a("strong",[t._v("XmlHttpRequest对象")]),t._v("来向服务器发送异步请求，从服务器获得数据，然后用JavaScript来操作DOM而更新页面。这其中最关键的一步就是从服务器获得请求数据。要清楚这个过程和原理，我们必须对 XMLHttpRequest有所了解。")]),t._v(" "),a("p",[a("strong",[t._v("与jquery的关系")]),t._v("：Jquery是JavaScript的框架，而Ajax是JavaScript的一种应用。Jquery在Ajax的基础上进行了封装了，所以在Jquery中可以用Ajax。")]),t._v(" "),a("p",[a("strong",[t._v("jquery中封装的ajax：")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ajax")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    method"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    url"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost/api"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Adnan"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" country"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Iran"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("done")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fail")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("fetch（基于promise，Fetch 是一个 API，原生的js对象而不是XHR，它是真实存在的）")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost/api'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    method"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'POST'")]),t._v("\n    body"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Adnan"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" country"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Iran"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost/api'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                               method"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'POST'")]),t._v("\n                               body"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Adnan"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" country"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Iran"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("axios（基于promise，基于 XHR 进行二次封装的网络请求库）")])]),t._v(" "),a("p",[t._v("Axios 可以说是 XHR 的一个子集，而 XHR 又是 Ajax 的一个子集")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("axios")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    method"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'POST'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    url"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost/api'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Adnan"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" country"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Iran"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// axios也可以跟 async/await 结合使用：")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" axios"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost/api'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                                    name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Adnan"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                    country"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Iran"')]),t._v("\n                                    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("XHR、Ajax、fetch、axios的关系：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/22da43184f0d4d4c84c8e12747fbcdff~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp",alt:"img"}})]),t._v(" "),a("h2",{attrs:{id:"_15-babel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_15-babel"}},[t._v("#")]),t._v(" 15. Babel")]),t._v(" "),a("p",[a("strong",[t._v("babel")]),t._v("：js编译器，把使用ES6/ES7等“高级”语法编写的Js代码转换为ES5/ES3的“通俗”语法（也可以把JSX语法转为Javascript）。")]),t._v(" "),a("p",[a("strong",[t._v("转译过程")]),t._v("：")]),t._v(" "),a("ol",[a("li",[t._v("parse解析：将代码字符串解析成抽象语法树（AST）=> @babel/parser 的 parse 方法")]),t._v(" "),a("li",[t._v("transform转换：对AST进行处理，将高版本语法的AST转化为低版本语法的AST=> @babel/traverse")]),t._v(" "),a("li",[t._v("generator生成：将转好的AST转为代码字符串 =>  @babel/generator")]),t._v(" "),a("li",[t._v("过程中，可能还需要使用 @babel/traverse 来获取依赖文件等")])]),t._v(" "),a("p",[a("img",{attrs:{src:"C:%5CUsers%5C14495%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230210165122433.png",alt:"image-20230210165122433"}})]),t._v(" "),a("h2",{attrs:{id:"_16-webpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_16-webpack"}},[t._v("#")]),t._v(" 16. webpack")]),t._v(" "),a("h3",{attrs:{id:"_16-1-webpack作用、过程与loader与plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_16-1-webpack作用、过程与loader与plugin"}},[t._v("#")]),t._v(" 16.1 webpack作用、过程与loader与plugin")]),t._v(" "),a("p",[a("strong",[t._v("作用："),a("strong",[t._v("找到JavaScript模块以及其它的一些浏览器不能直接运行的拓展语言（Sass，TypeScript等），并将其")]),t._v("转换和打包为合适的格式")]),t._v("供浏览器使用。")]),t._v(" "),a("p",[t._v("**打包过程：**通过定义 entry.js，对所有依赖的文件进行跟踪，将各个模块通过 loader （"),a("strong",[t._v("模块转换器，使webpack可以加载和解析非js代码")]),t._v("）和 plugins （"),a("strong",[t._v("在"),a("code",[t._v("webpack")]),t._v("构建流程中的特定时机注入扩展逻辑")]),t._v("）处理，然后打包在一起。(1)初始化参数 (2)开始编译 (3)确定入口entry (4)编译loader模块 (5) 打包输出资源 (6)输出完成")]),t._v(" "),a("p",[t._v("功能：代码转换、文件优化、代码分割、模块合并、代码校验、自动发布")]),t._v(" "),a("ul",[a("li",[t._v("loader 运行在打包文件之前。对于"),a("code",[t._v("loader")]),t._v("，实质是一个转换器，将A文件进行编译形成B文件，操作的是文件，比如将"),a("code",[t._v("A.scss")]),t._v("或"),a("code",[t._v("A.less")]),t._v("转变为"),a("code",[t._v("B.css")]),t._v("，"),a("strong",[t._v("单纯的文件转换过程")])]),t._v(" "),a("li",[t._v("plugins 在"),a("strong",[t._v("整个编译周期都起作用")]),t._v("。在"),a("code",[t._v("Webpack")]),t._v(" 运行的"),a("strong",[t._v("生命周期中会广播出许多事件，"),a("code",[t._v("Plugin")]),t._v(" 可以监听这些事件")]),t._v("，在合适的时机通过"),a("code",[t._v("Webpack")]),t._v("**提供的 "),a("code",[t._v("API")]),t._v("**改变输出结果")])]),t._v(" "),a("p",[a("strong",[t._v("常见loader")]),t._v("：")]),t._v(" "),a("ul",[a("li",[t._v("css-loader读取 合并CSS 文件")]),t._v(" "),a("li",[t._v("style-loader把 CSS 内容注入到 JavaScript 里")]),t._v(" "),a("li",[t._v("sass-loader 解析sass文件（安装sass-loader，node-sass）")]),t._v(" "),a("li",[t._v("postcss-loader自动添加浏览器兼容前缀（postcss.config配置）")]),t._v(" "),a("li",[t._v("url-loader将文件转换为base64 URI。")]),t._v(" "),a("li",[t._v("vue-loader处理vue文件。")])]),t._v(" "),a("p",[a("strong",[t._v("常见plugin：")])]),t._v(" "),a("ul",[a("li",[t._v("HtmlWebpackPlugin（打包后的静态文件自动插入到这个index.html 文件当中）")]),t._v(" "),a("li",[t._v("CleanWebpackPlugin（自动清理输出文件夹）")]),t._v(" "),a("li",[t._v("PurgeCSSPlugin（删除没有引用到的选择器及其样式）")]),t._v(" "),a("li",[t._v("CompressionPlugin（传输压缩，gzip）")]),t._v(" "),a("li",[t._v("HotModuleReplacementPlugin（热更新）")])]),t._v(" "),a("p",[t._v("**sourceMap：**是一个映射关系，将打包后的文件隐射到源代码，用于定位报错位置")]),t._v(" "),a("h3",{attrs:{id:"_16-2-热更新hot"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_16-2-热更新hot"}},[t._v("#")]),t._v(" 16.2 热更新hot")]),t._v(" "),a("p",[a("strong",[t._v("热更新："),a("strong",[t._v("当你对代码修改并保存后，将会对代码进行")]),t._v("重新打包")]),t._v("，并"),a("strong",[t._v("将改动的模块")]),t._v("发送到浏览器端，浏览器用新的模块替换掉旧的模块，去实现"),a("strong",[t._v("局部更新页面")]),t._v("而非整体刷新页面。")]),t._v(" "),a("h3",{attrs:{id:"_16-3-如何利用webpack优化前端性能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_16-3-如何利用webpack优化前端性能"}},[t._v("#")]),t._v(" 16.3 "),a("strong",[t._v("如何利用webpack优化前端性能？")])]),t._v(" "),a("p",[t._v("答：即指优化"),a("code",[t._v("webpack")]),t._v("的输出结果，让打包的最终结果在浏览器运行快速高效。")]),t._v(" "),a("ol",[a("li",[t._v("压缩代码，删除多余的代码、注释、简化代码的写法等等方式。")]),t._v(" "),a("li",[t._v("利用cdn加速，将引用的静态资源路径修改为"),a("code",[t._v("CDN")]),t._v("上对应的路径。")]),t._v(" "),a("li",[t._v("删除死代码，js（tree shaking），css（purify-css）")]),t._v(" "),a("li",[t._v("提取公共代码。使用commonsChunkPlugin插件")])]),t._v(" "),a("h3",{attrs:{id:"_16-4-运行npm-run-xxx发生了什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_16-4-运行npm-run-xxx发生了什么"}},[t._v("#")]),t._v(" 16.4 "),a("strong",[t._v("运行npm run xxx发生了什么？")])]),t._v(" "),a("p",[t._v("在执行npm run xxx的时候，会在package.json找到指令对应的命令。")]),t._v(" "),a("p",[a("strong",[t._v("那为什么不直接执行对应的指令？")])]),t._v(" "),a("p",[t._v("因为系统里只有npm相关的命令。npm会在node_modules/.bin目录里找到对应的映射文件（软连接），然后再找到相对应的js文件来执行。")]),t._v(" "),a("h2",{attrs:{id:"_17-微前端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_17-微前端"}},[t._v("#")]),t._v(" 17. 微前端")]),t._v(" "),a("p",[t._v("定义：一种软件架构，将前端分为一小个子应用，每个子应用互相独立，可以分开开发，测试，部署，技术栈也可以不一样，从而兼顾老项目。这些子应用程序可以在同一个页面上共存，并相互之间可以进行通信和交互。")]),t._v(" "),a("p",[t._v("实现：iframe，js框架如qiankun")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("样式隔离（基座与子应用）：css-module加前缀或统一样式")])]),t._v(" "),a("li",[a("p",[t._v("子应用间跳转：")]),t._v(" "),a("p",[t._v("history.pushState()")]),t._v(" "),a("p",[t._v("将主应用的路由实例通过 "),a("code",[t._v("props")]),t._v(" 传给微应用，微应用这个路由实例跳转。")])]),t._v(" "),a("li",[a("p",[t._v("公共依赖：")]),t._v(" "),a("p",[t._v("主应用：将所有公共依赖配置"),a("code",[t._v("webpack")]),t._v(" 的"),a("code",[t._v("externals")]),t._v("，并且在"),a("code",[t._v("index.html")]),t._v("使用"),a("strong",[t._v("外链引入这些公共依赖")])]),t._v(" "),a("p",[t._v("子应用：和主应用一样配置"),a("code",[t._v("webpack")]),t._v(" 的"),a("code",[t._v("externals")]),t._v("，并且在"),a("code",[t._v("index.html")]),t._v("使用外链引入这些公共依赖，注意，还需要给"),a("strong",[t._v("子应用的公共依赖的加上 "),a("code",[t._v("ignore")]),t._v(" 属性")]),t._v("（这是自定义的属性，非标准属性），qiankun在解析时如果发现"),a("code",[t._v("igonre")]),t._v("属性就会自动忽略")])]),t._v(" "),a("li",[a("p",[t._v("全局状态管理：qinkun提供了一个全局的"),a("code",[t._v("GlobalState")]),t._v("来共享数据，基座初始化之后，子应用可以监听到这个数据的变化，也能提交这个数据。")])])]),t._v(" "),a("h2",{attrs:{id:"_18-项目框架层面的优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_18-项目框架层面的优化"}},[t._v("#")]),t._v(" 18. 项目框架层面的优化")]),t._v(" "),a("h3",{attrs:{id:"_18-1-路由懒加载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_18-1-路由懒加载"}},[t._v("#")]),t._v(" 18.1 路由懒加载")]),t._v(" "),a("p",[a("strong",[t._v("react")])]),t._v(" "),a("p",[t._v("React.lazy()+Suspense")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Home "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lazy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./routes/Home'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("App")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Router"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Suspense fallback"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Loading"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Switch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route exact path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),t._v(" component"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Home"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/userManage"')]),t._v(" component"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("UserManage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/assetManage"')]),t._v(" component"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("AssetManage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/attendanceManage"')]),t._v(" component"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("AttendanceManage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Switch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Suspense"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Router"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("strong",[t._v("vue")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// import UserDetails from './views/UserDetails'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换成")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("UserDetails")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./views/UserDetails'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" router "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createRouter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  routes"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/users/:id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" component"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" UserDetails "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),a("p",[a("strong",[t._v("原理")])]),t._v(" "),a("p",[t._v("因为懒加载是对子模块（子组件）进行延后加载。")]),t._v(" "),a("p",[t._v("前提知识：通过"),a("strong",[t._v("webpack")]),t._v("打包时会进行资源整合，也就是会把项目中的JS、CSS等文件按照一定的规则进行合并，已达到减少资源请求的目的。")]),t._v(" "),a("p",[t._v("第一步就是将懒加载的子模块（子组件）"),a("strong",[t._v("分离")]),t._v("出来。")]),t._v(" "),a("p",[a("strong",[t._v("通过import()引用的子模块会被单独分离出来，打包成一个单独的文件（打包出来的文件被称为chunk ）。")])]),t._v(" "),a("p",[t._v("第二步使用分离出来的chunk")]),t._v(" "),a("p",[a("strong",[t._v("将需要进行懒加载的子模块文件的引入语句（本文特指import()）放到一个函数内部。然后在需要加载的时候再执行该函数。")])]),t._v(" "),a("p",[t._v("webpack会对对应的chunk进行识别解析")]),t._v(" "),a("h3",{attrs:{id:"_18-2-组件缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_18-2-组件缓存"}},[t._v("#")]),t._v(" 18.2 组件缓存")]),t._v(" "),a("p",[t._v("react：React.memo、useMemo、useCallback")]),t._v(" "),a("p",[t._v("vue：keepAlive保留组件状态或者避免组件重新渲染。")]),t._v(" "),a("h3",{attrs:{id:"_18-3-用户体验"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_18-3-用户体验"}},[t._v("#")]),t._v(" 18.3 用户体验")]),t._v(" "),a("ul",[a("li",[t._v("图片懒加载")]),t._v(" "),a("li",[t._v("本地缓存")]),t._v(" "),a("li",[t._v("cdn静态管理")]),t._v(" "),a("li",[t._v("合并请求")]),t._v(" "),a("li",[t._v("雪碧图")]),t._v(" "),a("li",[t._v("字体图标")]),t._v(" "),a("li",[t._v("节流防抖")])]),t._v(" "),a("h3",{attrs:{id:"_18-4-浏览器的性能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_18-4-浏览器的性能"}},[t._v("#")]),t._v(" 18.4 浏览器的性能")]),t._v(" "),a("ul",[a("li",[t._v("js脚本异步加载")]),t._v(" "),a("li",[t._v("减少dom操作")]),t._v(" "),a("li",[t._v("安全方面：编码、转义、httponly、验证referer、token加密等")])]),t._v(" "),a("h3",{attrs:{id:"_18-5-工程化优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_18-5-工程化优化"}},[t._v("#")]),t._v(" 18.5 工程化优化")]),t._v(" "),a("ul",[a("li",[t._v("去除无用代码treeShaking.")]),t._v(" "),a("li",[t._v("babel编译es6到es5的时候，会有多余代码产生")]),t._v(" "),a("li",[t._v("减小app.js的体积，提取公共代码")]),t._v(" "),a("li",[t._v("减少vendor.js的体积，通过按需引入第三方库，或者有些资源可以通过script标签引入")]),t._v(" "),a("li",[t._v("代码切割，有一些组件没必要都打包到一起。")]),t._v(" "),a("li",[t._v("使用chunck")]),t._v(" "),a("li",[t._v("使用SouceMap，来还原线上代码，更方便的去定位线上问题")]),t._v(" "),a("li",[t._v("构建结果，通过可视化插件，进行分析")]),t._v(" "),a("li",[t._v("webpack对图片进行压缩等处理，")])]),t._v(" "),a("h2",{attrs:{id:"_19-前端工程化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_19-前端工程化"}},[t._v("#")]),t._v(" 19. 前端工程化")]),t._v(" "),a("p",[t._v("一种思想，更加高效同时降低开发维护成本。可以从四个方面考虑")]),t._v(" "),a("ol",[a("li",[t._v("模块化")]),t._v(" "),a("li",[t._v("组件化：逻辑复用，清晰")]),t._v(" "),a("li",[t._v("规范化：命名规范、接口规范、管理规范、代码规范等")]),t._v(" "),a("li",[t._v("自动化：脚手架构建、自动化部署、自动化测试")])]),t._v(" "),a("h3",{attrs:{id:"_19-1-css工程化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_19-1-css工程化"}},[t._v("#")]),t._v(" 19.1 css工程化")]),t._v(" "),a("ul",[a("li",[t._v("宏观设计上：优化 CSS 文件，对现有的 CSS 文件实现"),a("strong",[t._v("复用")]),t._v("；")]),t._v(" "),a("li",[t._v("编码优化上：结构清晰、简明易懂，一目了然的嵌套层级关系")]),t._v(" "),a("li",[t._v("可维护性上：最小化它后续的变更成本，变量、继承、混用")])]),t._v(" "),a("p",[t._v("衍生出：")]),t._v(" "),a("ul",[a("li",[t._v("css预处理器：less、sass，变量、继承、混用、循环语句、模块化")]),t._v(" "),a("li",[t._v("css后处理：postCss，允许我们编写面向未来的 CSS（CSS next 代码）、适配低版本浏览器")]),t._v(" "),a("li",[t._v("webpack：css-loader（对css编译处理） 和 style-loader（创建style标签，将css写入标签）")])]),t._v(" "),a("h3",{attrs:{id:"_19-2-webpack工程化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_19-2-webpack工程化"}},[t._v("#")]),t._v(" 19.2 webpack工程化")]),t._v(" "),a("ul",[a("li",[t._v("去除无用代码treeShaking.")]),t._v(" "),a("li",[t._v("babel编译es6到es5的时候，会有多余代码产生")]),t._v(" "),a("li",[t._v("减小app.js的体积，提取公共代码")]),t._v(" "),a("li",[t._v("减少vendor.js的体积，通过按需引入第三方库，或者有些资源可以通过script标签引入")]),t._v(" "),a("li",[t._v("代码切割，有一些组件没必要都打包到一起。")]),t._v(" "),a("li",[t._v("使用chunck")]),t._v(" "),a("li",[t._v("使用SouceMap，来还原线上代码，更方便的去定位线上问题")]),t._v(" "),a("li",[t._v("构建结果，通过可视化插件，进行分析")]),t._v(" "),a("li",[t._v("webpack对图片进行压缩等处理，")])])])}),[],!1,null,null,null);s.default=e.exports}}]);